# 币安Alpha积分计算器 - 数据恢复指南

## 为什么汇总数据会丢失？

根据分析代码，可能导致数据丢失的原因有：

1. **localStorage限制**：浏览器的localStorage可能因为以下原因被清空：
   - 浏览器清除缓存或浏览数据
   - 浏览器隐私模式下关闭窗口
   - 浏览器存储达到容量上限
   - 系统或浏览器更新

2. **数据格式问题**：当应用尝试解析localStorage中的数据时，如果数据格式损坏，会触发错误处理机制，从而创建新的默认账号。

3. **导入数据操作**：导入数据时会提示"导入数据将替换现有所有数据"，如果用户确认，则原数据会被替换。

## 如何检查和恢复数据

我们创建了一个调试脚本来帮助您检查localStorage中的数据状态：

### 使用调试脚本步骤

1. 打开币安Alpha积分计算器网页
2. 按 `F12` 打开浏览器开发者工具
3. 切换到 `控制台(Console)` 选项卡
4. 复制以下代码并粘贴到控制台中，然后按回车执行：

```javascript
// 加载调试脚本
const script = document.createElement('script');
script.src = '/debug-data.js';
document.head.appendChild(script);
```

5. 脚本会自动检查localStorage中的数据并显示结果

### 手动数据恢复

如果调试脚本显示数据已丢失，您可以尝试以下方法：

1. **使用历史导出的数据**：如果您之前导出过数据文件，可以使用"导入数据"功能恢复

2. **使用示例数据**：如果没有备份数据，可以在控制台中执行以下代码导入示例数据：

```javascript
function restoreSampleData() {
    const sampleData = [{
        id: Date.now().toString(),
        name: '默认账号',
        pointsHistory: Array.from({length: 15}, (_, i) => ({
            date: new Date(Date.now() - i * 24 * 60 * 60 * 1000).toLocaleDateString('zh-CN', {
                year: 'numeric',
                month: '2-digit',
                day: '2-digit'
            }),
            points: 16,
            cumulativePoints: 0
        })),
        targetPoints: '200'
    }];
    localStorage.setItem('alphaCalculatorAccounts', JSON.stringify(sampleData));
    alert('示例数据已导入，请刷新页面查看。');
}
restoreSampleData();
```

## 如何防止数据丢失

为了避免未来数据丢失，建议您：

1. **定期导出数据**：使用应用中的"导出数据"功能，定期将数据保存到本地文件
2. **记录重要数据**：手动记录累计积分和目标积分等重要信息
3. **使用同一浏览器**：尽量在同一浏览器中使用应用，因为不同浏览器的localStorage是相互独立的

## 技术细节说明

应用的数据存储机制：

- 所有数据保存在浏览器的localStorage中，键名为 `alphaCalculatorAccounts`
- 数据采用JSON格式存储，包括账号信息、积分历史和目标积分
- 每次修改数据后，应用会自动将最新数据保存到localStorage

## 联系支持

如果您有任何问题或需要进一步的帮助，请随时联系技术支持。